{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/esnext.iterator.constructor.js\");\nrequire(\"core-js/modules/esnext.iterator.find.js\");\nrequire(\"core-js/modules/esnext.iterator.some.js\");\nconst webIDLConversions = require(\"webidl-conversions\");\nconst DOMException = require(\"../generated/DOMException\");\nconst NODE_TYPE = require(\"../node-type\");\nconst {\n  HTML_NS\n} = require(\"../helpers/namespaces\");\nconst {\n  getHTMLElementInterface\n} = require(\"../helpers/create-element\");\nconst {\n  shadowIncludingInclusiveDescendantsIterator\n} = require(\"../helpers/shadow-dom\");\nconst {\n  isValidCustomElementName,\n  tryUpgradeElement,\n  enqueueCEUpgradeReaction\n} = require(\"../helpers/custom-elements\");\nconst idlUtils = require(\"../generated/utils\");\nconst IDLFunction = require(\"../generated/Function.js\");\nconst HTMLUnknownElement = require(\"../generated/HTMLUnknownElement\");\nconst LIFECYCLE_CALLBACKS = [\"connectedCallback\", \"disconnectedCallback\", \"adoptedCallback\", \"attributeChangedCallback\"];\nfunction convertToSequenceDOMString(obj) {\n  if (!obj || !obj[Symbol.iterator]) {\n    throw new TypeError(\"Invalid Sequence\");\n  }\n  return Array.from(obj, webIDLConversions.DOMString);\n}\n\n// Returns true is the passed value is a valid constructor.\n// Borrowed from: https://stackoverflow.com/a/39336206/3832710\nfunction isConstructor(value) {\n  if (typeof value !== \"function\") {\n    return false;\n  }\n  try {\n    const P = new Proxy(value, {\n      construct() {\n        return {};\n      }\n    });\n\n    // eslint-disable-next-line no-new\n    new P();\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n// https://html.spec.whatwg.org/#customelementregistry\nclass CustomElementRegistryImpl {\n  constructor(globalObject) {\n    this._customElementDefinitions = [];\n    this._elementDefinitionIsRunning = false;\n    this._whenDefinedPromiseMap = Object.create(null);\n    this._globalObject = globalObject;\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-define\n  define(name, constructor, options) {\n    const {\n      _globalObject\n    } = this;\n    const ctor = constructor.objectReference;\n    if (!isConstructor(ctor)) {\n      throw new TypeError(\"Constructor argument is not a constructor.\");\n    }\n    if (!isValidCustomElementName(name)) {\n      throw DOMException.create(_globalObject, [\"Name argument is not a valid custom element name.\", \"SyntaxError\"]);\n    }\n    const nameAlreadyRegistered = this._customElementDefinitions.some(entry => entry.name === name);\n    if (nameAlreadyRegistered) {\n      throw DOMException.create(_globalObject, [\"This name has already been registered in the registry.\", \"NotSupportedError\"]);\n    }\n    const ctorAlreadyRegistered = this._customElementDefinitions.some(entry => entry.objectReference === ctor);\n    if (ctorAlreadyRegistered) {\n      throw DOMException.create(_globalObject, [\"This constructor has already been registered in the registry.\", \"NotSupportedError\"]);\n    }\n    let localName = name;\n    let extendsOption = null;\n    if (options !== undefined && options.extends) {\n      extendsOption = options.extends;\n    }\n    if (extendsOption !== null) {\n      if (isValidCustomElementName(extendsOption)) {\n        throw DOMException.create(_globalObject, [\"Option extends value can't be a valid custom element name.\", \"NotSupportedError\"]);\n      }\n      const extendsInterface = getHTMLElementInterface(extendsOption);\n      if (extendsInterface === HTMLUnknownElement) {\n        throw DOMException.create(_globalObject, [`${extendsOption} is an HTMLUnknownElement.`, \"NotSupportedError\"]);\n      }\n      localName = extendsOption;\n    }\n    if (this._elementDefinitionIsRunning) {\n      throw DOMException.create(_globalObject, [\"Invalid nested custom element definition.\", \"NotSupportedError\"]);\n    }\n    this._elementDefinitionIsRunning = true;\n    let disableInternals = false;\n    let disableShadow = false;\n    let observedAttributes = [];\n    const lifecycleCallbacks = {\n      connectedCallback: null,\n      disconnectedCallback: null,\n      adoptedCallback: null,\n      attributeChangedCallback: null\n    };\n    let caughtError;\n    try {\n      const {\n        prototype\n      } = ctor;\n      if (typeof prototype !== \"object\") {\n        throw new TypeError(\"Invalid constructor prototype.\");\n      }\n      for (const callbackName of LIFECYCLE_CALLBACKS) {\n        const callbackValue = prototype[callbackName];\n        if (callbackValue !== undefined) {\n          lifecycleCallbacks[callbackName] = IDLFunction.convert(_globalObject, callbackValue, {\n            context: `The lifecycle callback \"${callbackName}\"`\n          });\n        }\n      }\n      if (lifecycleCallbacks.attributeChangedCallback !== null) {\n        const observedAttributesIterable = ctor.observedAttributes;\n        if (observedAttributesIterable !== undefined) {\n          observedAttributes = convertToSequenceDOMString(observedAttributesIterable);\n        }\n      }\n      let disabledFeatures = [];\n      const disabledFeaturesIterable = ctor.disabledFeatures;\n      if (disabledFeaturesIterable) {\n        disabledFeatures = convertToSequenceDOMString(disabledFeaturesIterable);\n      }\n      disableInternals = disabledFeatures.includes(\"internals\");\n      disableShadow = disabledFeatures.includes(\"shadow\");\n    } catch (err) {\n      caughtError = err;\n    } finally {\n      this._elementDefinitionIsRunning = false;\n    }\n    if (caughtError !== undefined) {\n      throw caughtError;\n    }\n    const definition = {\n      name,\n      localName,\n      constructor,\n      objectReference: ctor,\n      observedAttributes,\n      lifecycleCallbacks,\n      disableShadow,\n      disableInternals,\n      constructionStack: []\n    };\n    this._customElementDefinitions.push(definition);\n    const document = idlUtils.implForWrapper(this._globalObject._document);\n    const upgradeCandidates = [];\n    for (const candidate of shadowIncludingInclusiveDescendantsIterator(document)) {\n      if (candidate._namespaceURI === HTML_NS && candidate._localName === localName && (extendsOption === null || candidate._isValue === name)) {\n        upgradeCandidates.push(candidate);\n      }\n    }\n    for (const upgradeCandidate of upgradeCandidates) {\n      enqueueCEUpgradeReaction(upgradeCandidate, definition);\n    }\n    if (this._whenDefinedPromiseMap[name] !== undefined) {\n      this._whenDefinedPromiseMap[name].resolve(ctor);\n      delete this._whenDefinedPromiseMap[name];\n    }\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-get\n  get(name) {\n    const definition = this._customElementDefinitions.find(entry => entry.name === name);\n    return definition && definition.objectReference;\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-whendefined\n  whenDefined(name) {\n    if (!isValidCustomElementName(name)) {\n      return Promise.reject(DOMException.create(this._globalObject, [\"Name argument is not a valid custom element name.\", \"SyntaxError\"]));\n    }\n    const alreadyRegistered = this._customElementDefinitions.find(entry => entry.name === name);\n    if (alreadyRegistered) {\n      return Promise.resolve(alreadyRegistered.objectReference);\n    }\n    if (this._whenDefinedPromiseMap[name] === undefined) {\n      let resolve;\n      const promise = new Promise(r => {\n        resolve = r;\n      });\n\n      // Store the pending Promise along with the extracted resolve callback to actually resolve the returned Promise,\n      // once the custom element is registered.\n      this._whenDefinedPromiseMap[name] = {\n        promise,\n        resolve\n      };\n    }\n    return this._whenDefinedPromiseMap[name].promise;\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-upgrade\n  upgrade(root) {\n    for (const candidate of shadowIncludingInclusiveDescendantsIterator(root)) {\n      if (candidate.nodeType === NODE_TYPE.ELEMENT_NODE) {\n        tryUpgradeElement(candidate);\n      }\n    }\n  }\n}\nmodule.exports = {\n  implementation: CustomElementRegistryImpl\n};","map":{"version":3,"names":["require","webIDLConversions","DOMException","NODE_TYPE","HTML_NS","getHTMLElementInterface","shadowIncludingInclusiveDescendantsIterator","isValidCustomElementName","tryUpgradeElement","enqueueCEUpgradeReaction","idlUtils","IDLFunction","HTMLUnknownElement","LIFECYCLE_CALLBACKS","convertToSequenceDOMString","obj","Symbol","iterator","TypeError","Array","from","DOMString","isConstructor","value","P","Proxy","construct","CustomElementRegistryImpl","constructor","globalObject","_customElementDefinitions","_elementDefinitionIsRunning","_whenDefinedPromiseMap","Object","create","_globalObject","define","name","options","ctor","objectReference","nameAlreadyRegistered","some","entry","ctorAlreadyRegistered","localName","extendsOption","undefined","extends","extendsInterface","disableInternals","disableShadow","observedAttributes","lifecycleCallbacks","connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","caughtError","prototype","callbackName","callbackValue","convert","context","observedAttributesIterable","disabledFeatures","disabledFeaturesIterable","includes","err","definition","constructionStack","push","document","implForWrapper","_document","upgradeCandidates","candidate","_namespaceURI","_localName","_isValue","upgradeCandidate","resolve","get","find","whenDefined","Promise","reject","alreadyRegistered","promise","r","upgrade","root","nodeType","ELEMENT_NODE","module","exports","implementation"],"sources":["/Users/feyraf/Desktop/projets/Roma/invest/node_modules/jsdom/lib/jsdom/living/custom-elements/CustomElementRegistry-impl.js"],"sourcesContent":["\"use strict\";\n\nconst webIDLConversions = require(\"webidl-conversions\");\nconst DOMException = require(\"../generated/DOMException\");\n\nconst NODE_TYPE = require(\"../node-type\");\n\nconst { HTML_NS } = require(\"../helpers/namespaces\");\nconst { getHTMLElementInterface } = require(\"../helpers/create-element\");\nconst { shadowIncludingInclusiveDescendantsIterator } = require(\"../helpers/shadow-dom\");\nconst { isValidCustomElementName, tryUpgradeElement, enqueueCEUpgradeReaction } = require(\"../helpers/custom-elements\");\n\nconst idlUtils = require(\"../generated/utils\");\nconst IDLFunction = require(\"../generated/Function.js\");\nconst HTMLUnknownElement = require(\"../generated/HTMLUnknownElement\");\n\nconst LIFECYCLE_CALLBACKS = [\n  \"connectedCallback\",\n  \"disconnectedCallback\",\n  \"adoptedCallback\",\n  \"attributeChangedCallback\"\n];\n\nfunction convertToSequenceDOMString(obj) {\n  if (!obj || !obj[Symbol.iterator]) {\n    throw new TypeError(\"Invalid Sequence\");\n  }\n\n  return Array.from(obj, webIDLConversions.DOMString);\n}\n\n// Returns true is the passed value is a valid constructor.\n// Borrowed from: https://stackoverflow.com/a/39336206/3832710\nfunction isConstructor(value) {\n  if (typeof value !== \"function\") {\n    return false;\n  }\n\n  try {\n    const P = new Proxy(value, {\n      construct() {\n        return {};\n      }\n    });\n\n    // eslint-disable-next-line no-new\n    new P();\n\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n// https://html.spec.whatwg.org/#customelementregistry\nclass CustomElementRegistryImpl {\n  constructor(globalObject) {\n    this._customElementDefinitions = [];\n    this._elementDefinitionIsRunning = false;\n    this._whenDefinedPromiseMap = Object.create(null);\n\n    this._globalObject = globalObject;\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-define\n  define(name, constructor, options) {\n    const { _globalObject } = this;\n    const ctor = constructor.objectReference;\n\n    if (!isConstructor(ctor)) {\n      throw new TypeError(\"Constructor argument is not a constructor.\");\n    }\n\n    if (!isValidCustomElementName(name)) {\n      throw DOMException.create(_globalObject, [\"Name argument is not a valid custom element name.\", \"SyntaxError\"]);\n    }\n\n    const nameAlreadyRegistered = this._customElementDefinitions.some(entry => entry.name === name);\n    if (nameAlreadyRegistered) {\n      throw DOMException.create(_globalObject, [\n        \"This name has already been registered in the registry.\",\n        \"NotSupportedError\"\n      ]);\n    }\n\n    const ctorAlreadyRegistered = this._customElementDefinitions.some(entry => entry.objectReference === ctor);\n    if (ctorAlreadyRegistered) {\n      throw DOMException.create(_globalObject, [\n        \"This constructor has already been registered in the registry.\",\n        \"NotSupportedError\"\n      ]);\n    }\n\n    let localName = name;\n\n    let extendsOption = null;\n    if (options !== undefined && options.extends) {\n      extendsOption = options.extends;\n    }\n\n    if (extendsOption !== null) {\n      if (isValidCustomElementName(extendsOption)) {\n        throw DOMException.create(_globalObject, [\n          \"Option extends value can't be a valid custom element name.\",\n          \"NotSupportedError\"\n        ]);\n      }\n\n      const extendsInterface = getHTMLElementInterface(extendsOption);\n      if (extendsInterface === HTMLUnknownElement) {\n        throw DOMException.create(_globalObject, [\n          `${extendsOption} is an HTMLUnknownElement.`,\n          \"NotSupportedError\"\n        ]);\n      }\n\n      localName = extendsOption;\n    }\n\n    if (this._elementDefinitionIsRunning) {\n      throw DOMException.create(_globalObject, [\n        \"Invalid nested custom element definition.\",\n        \"NotSupportedError\"\n      ]);\n    }\n\n    this._elementDefinitionIsRunning = true;\n\n    let disableInternals = false;\n    let disableShadow = false;\n    let observedAttributes = [];\n    const lifecycleCallbacks = {\n      connectedCallback: null,\n      disconnectedCallback: null,\n      adoptedCallback: null,\n      attributeChangedCallback: null\n    };\n\n    let caughtError;\n    try {\n      const { prototype } = ctor;\n\n      if (typeof prototype !== \"object\") {\n        throw new TypeError(\"Invalid constructor prototype.\");\n      }\n\n      for (const callbackName of LIFECYCLE_CALLBACKS) {\n        const callbackValue = prototype[callbackName];\n\n        if (callbackValue !== undefined) {\n          lifecycleCallbacks[callbackName] = IDLFunction.convert(_globalObject, callbackValue, {\n            context: `The lifecycle callback \"${callbackName}\"`\n          });\n        }\n      }\n\n      if (lifecycleCallbacks.attributeChangedCallback !== null) {\n        const observedAttributesIterable = ctor.observedAttributes;\n\n        if (observedAttributesIterable !== undefined) {\n          observedAttributes = convertToSequenceDOMString(observedAttributesIterable);\n        }\n      }\n\n      let disabledFeatures = [];\n      const disabledFeaturesIterable = ctor.disabledFeatures;\n      if (disabledFeaturesIterable) {\n        disabledFeatures = convertToSequenceDOMString(disabledFeaturesIterable);\n      }\n\n      disableInternals = disabledFeatures.includes(\"internals\");\n      disableShadow = disabledFeatures.includes(\"shadow\");\n    } catch (err) {\n      caughtError = err;\n    } finally {\n      this._elementDefinitionIsRunning = false;\n    }\n\n    if (caughtError !== undefined) {\n      throw caughtError;\n    }\n\n    const definition = {\n      name,\n      localName,\n      constructor,\n      objectReference: ctor,\n      observedAttributes,\n      lifecycleCallbacks,\n      disableShadow,\n      disableInternals,\n      constructionStack: []\n    };\n\n    this._customElementDefinitions.push(definition);\n\n    const document = idlUtils.implForWrapper(this._globalObject._document);\n\n    const upgradeCandidates = [];\n    for (const candidate of shadowIncludingInclusiveDescendantsIterator(document)) {\n      if (\n        (candidate._namespaceURI === HTML_NS && candidate._localName === localName) &&\n        (extendsOption === null || candidate._isValue === name)\n      ) {\n        upgradeCandidates.push(candidate);\n      }\n    }\n\n    for (const upgradeCandidate of upgradeCandidates) {\n      enqueueCEUpgradeReaction(upgradeCandidate, definition);\n    }\n\n    if (this._whenDefinedPromiseMap[name] !== undefined) {\n      this._whenDefinedPromiseMap[name].resolve(ctor);\n      delete this._whenDefinedPromiseMap[name];\n    }\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-get\n  get(name) {\n    const definition = this._customElementDefinitions.find(entry => entry.name === name);\n    return definition && definition.objectReference;\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-whendefined\n  whenDefined(name) {\n    if (!isValidCustomElementName(name)) {\n      return Promise.reject(DOMException.create(\n        this._globalObject,\n        [\"Name argument is not a valid custom element name.\", \"SyntaxError\"]\n      ));\n    }\n\n    const alreadyRegistered = this._customElementDefinitions.find(entry => entry.name === name);\n    if (alreadyRegistered) {\n      return Promise.resolve(alreadyRegistered.objectReference);\n    }\n\n    if (this._whenDefinedPromiseMap[name] === undefined) {\n      let resolve;\n      const promise = new Promise(r => {\n        resolve = r;\n      });\n\n      // Store the pending Promise along with the extracted resolve callback to actually resolve the returned Promise,\n      // once the custom element is registered.\n      this._whenDefinedPromiseMap[name] = {\n        promise,\n        resolve\n      };\n    }\n\n    return this._whenDefinedPromiseMap[name].promise;\n  }\n\n  // https://html.spec.whatwg.org/#dom-customelementregistry-upgrade\n  upgrade(root) {\n    for (const candidate of shadowIncludingInclusiveDescendantsIterator(root)) {\n      if (candidate.nodeType === NODE_TYPE.ELEMENT_NODE) {\n        tryUpgradeElement(candidate);\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  implementation: CustomElementRegistryImpl\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}