{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.set.difference.v2.js\");\nrequire(\"core-js/modules/es.set.intersection.v2.js\");\nrequire(\"core-js/modules/es.set.is-disjoint-from.v2.js\");\nrequire(\"core-js/modules/es.set.is-subset-of.v2.js\");\nrequire(\"core-js/modules/es.set.is-superset-of.v2.js\");\nrequire(\"core-js/modules/es.set.symmetric-difference.v2.js\");\nrequire(\"core-js/modules/es.set.union.v2.js\");\nconst conversions = require(\"webidl-conversions\");\nconst {\n  isSummaryForParentDetails\n} = require(\"../helpers/details\");\nconst focusing = require(\"../helpers/focusing\");\nconst {\n  HTML_NS,\n  SVG_NS\n} = require(\"../helpers/namespaces\");\nconst DOMStringMap = require(\"../generated/DOMStringMap\");\nconst tabIndexReflectAllowedHTMLElements = new Set([\"a\", \"area\", \"button\", \"frame\", \"iframe\", \"input\", \"object\", \"select\", \"textarea\"]);\nclass HTMLOrSVGElementImpl {\n  _initHTMLOrSVGElement() {\n    this._tabIndex = 0;\n    this._dataset = DOMStringMap.createImpl(this._globalObject, [], {\n      element: this\n    });\n  }\n  get dataset() {\n    return this._dataset;\n  }\n\n  // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\n  get tabIndex() {\n    if (!this.hasAttributeNS(null, \"tabindex\")) {\n      if (this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) || this._localName === \"summary\" && isSummaryForParentDetails(this)) || this.namespaceURI === SVG_NS && this._localName === \"a\") {\n        return 0;\n      }\n      return -1;\n    }\n    return conversions.long(this.getAttributeNS(null, \"tabindex\"));\n  }\n  set tabIndex(value) {\n    this.setAttributeNS(null, \"tabindex\", String(value));\n  }\n  focus() {\n    if (!focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n    const ownerDocument = this._ownerDocument;\n    const previous = ownerDocument._lastFocusedElement;\n    if (previous === this) {\n      return;\n    }\n    ownerDocument._lastFocusedElement = null;\n    if (previous) {\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, {\n        bubbles: true\n      });\n    } else {\n      const frameElement = ownerDocument._defaultView._frameElement;\n      if (frameElement) {\n        const frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\n        frameElement.ownerDocument._lastFocusedElement = null;\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, {\n          bubbles: true\n        });\n        frameElement.ownerDocument._lastFocusedElement = frameElement;\n      }\n    }\n    ownerDocument._lastFocusedElement = this;\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, {\n      bubbles: true\n    });\n    ownerDocument.getSelection().collapse(this, 0);\n  }\n  blur() {\n    if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n    this._ownerDocument._lastFocusedElement = null;\n    focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, null);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, null, {\n      bubbles: true\n    });\n    this._ownerDocument.getSelection().empty();\n  }\n}\nexports.implementation = HTMLOrSVGElementImpl;","map":{"version":3,"names":["require","conversions","isSummaryForParentDetails","focusing","HTML_NS","SVG_NS","DOMStringMap","tabIndexReflectAllowedHTMLElements","Set","HTMLOrSVGElementImpl","_initHTMLOrSVGElement","_tabIndex","_dataset","createImpl","_globalObject","element","dataset","tabIndex","hasAttributeNS","namespaceURI","has","_localName","long","getAttributeNS","value","setAttributeNS","String","focus","isFocusableAreaElement","ownerDocument","_ownerDocument","previous","_lastFocusedElement","fireFocusEventWithTargetAdjustment","bubbles","frameElement","_defaultView","_frameElement","frameLastFocusedElement","getSelection","collapse","blur","empty","exports","implementation"],"sources":["/Users/feyraf/Desktop/projets/Roma/invest/node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js"],"sourcesContent":["\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst { isSummaryForParentDetails } = require(\"../helpers/details\");\nconst focusing = require(\"../helpers/focusing\");\nconst { HTML_NS, SVG_NS } = require(\"../helpers/namespaces\");\nconst DOMStringMap = require(\"../generated/DOMStringMap\");\n\nconst tabIndexReflectAllowedHTMLElements = new Set([\n  \"a\", \"area\", \"button\", \"frame\", \"iframe\",\n  \"input\", \"object\", \"select\", \"textarea\"\n]);\n\nclass HTMLOrSVGElementImpl {\n  _initHTMLOrSVGElement() {\n    this._tabIndex = 0;\n    this._dataset = DOMStringMap.createImpl(this._globalObject, [], { element: this });\n  }\n\n  get dataset() {\n    return this._dataset;\n  }\n\n  // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\n  get tabIndex() {\n    if (!this.hasAttributeNS(null, \"tabindex\")) {\n      if ((this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) ||\n                                             (this._localName === \"summary\" && isSummaryForParentDetails(this)))) ||\n          (this.namespaceURI === SVG_NS && this._localName === \"a\")) {\n        return 0;\n      }\n      return -1;\n    }\n    return conversions.long(this.getAttributeNS(null, \"tabindex\"));\n  }\n\n  set tabIndex(value) {\n    this.setAttributeNS(null, \"tabindex\", String(value));\n  }\n\n  focus() {\n    if (!focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n    const ownerDocument = this._ownerDocument;\n    const previous = ownerDocument._lastFocusedElement;\n\n    if (previous === this) {\n      return;\n    }\n\n    ownerDocument._lastFocusedElement = null;\n    if (previous) {\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, { bubbles: true });\n    } else {\n      const frameElement = ownerDocument._defaultView._frameElement;\n      if (frameElement) {\n        const frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\n        frameElement.ownerDocument._lastFocusedElement = null;\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, { bubbles: true });\n        frameElement.ownerDocument._lastFocusedElement = frameElement;\n      }\n    }\n\n    ownerDocument._lastFocusedElement = this;\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, { bubbles: true });\n    ownerDocument.getSelection().collapse(this, 0);\n  }\n\n  blur() {\n    if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n\n    this._ownerDocument._lastFocusedElement = null;\n    focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, null);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, null, { bubbles: true });\n    this._ownerDocument.getSelection().empty();\n  }\n}\n\nexports.implementation = HTMLOrSVGElementImpl;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}