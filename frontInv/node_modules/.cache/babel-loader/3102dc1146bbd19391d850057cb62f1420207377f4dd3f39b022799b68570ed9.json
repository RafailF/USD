{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.permuteDomain = permuteDomain;\nconst getPublicSuffix_1 = require(\"./getPublicSuffix\");\n/**\n * Generates the permutation of all possible values that {@link domainMatch} the given `domain` parameter. The\n * array is in shortest-to-longest order. Useful when building custom {@link Store} implementations.\n *\n * @example\n * ```\n * permuteDomain('foo.bar.example.com')\n * // ['example.com', 'bar.example.com', 'foo.bar.example.com']\n * ```\n *\n * @public\n * @param domain - the domain to generate permutations for\n * @param allowSpecialUseDomain - flag to control if {@link https://www.rfc-editor.org/rfc/rfc6761.html | Special Use Domains} such as `localhost` should be allowed\n */\nfunction permuteDomain(domain, allowSpecialUseDomain) {\n  const pubSuf = (0, getPublicSuffix_1.getPublicSuffix)(domain, {\n    allowSpecialUseDomain: allowSpecialUseDomain\n  });\n  if (!pubSuf) {\n    return undefined;\n  }\n  if (pubSuf == domain) {\n    return [domain];\n  }\n  // Nuke trailing dot\n  if (domain.slice(-1) == '.') {\n    domain = domain.slice(0, -1);\n  }\n  const prefix = domain.slice(0, -(pubSuf.length + 1)); // \".example.com\"\n  const parts = prefix.split('.').reverse();\n  let cur = pubSuf;\n  const permutations = [cur];\n  while (parts.length) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const part = parts.shift();\n    cur = `${part}.${cur}`;\n    permutations.push(cur);\n  }\n  return permutations;\n}","map":{"version":3,"names":["require","Object","defineProperty","exports","value","permuteDomain","getPublicSuffix_1","domain","allowSpecialUseDomain","pubSuf","getPublicSuffix","undefined","slice","prefix","length","parts","split","reverse","cur","permutations","part","shift","push"],"sources":["/Users/feyraf/Desktop/projets/Roma/invest/node_modules/tough-cookie/dist/permuteDomain.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.permuteDomain = permuteDomain;\nconst getPublicSuffix_1 = require(\"./getPublicSuffix\");\n/**\n * Generates the permutation of all possible values that {@link domainMatch} the given `domain` parameter. The\n * array is in shortest-to-longest order. Useful when building custom {@link Store} implementations.\n *\n * @example\n * ```\n * permuteDomain('foo.bar.example.com')\n * // ['example.com', 'bar.example.com', 'foo.bar.example.com']\n * ```\n *\n * @public\n * @param domain - the domain to generate permutations for\n * @param allowSpecialUseDomain - flag to control if {@link https://www.rfc-editor.org/rfc/rfc6761.html | Special Use Domains} such as `localhost` should be allowed\n */\nfunction permuteDomain(domain, allowSpecialUseDomain) {\n    const pubSuf = (0, getPublicSuffix_1.getPublicSuffix)(domain, {\n        allowSpecialUseDomain: allowSpecialUseDomain,\n    });\n    if (!pubSuf) {\n        return undefined;\n    }\n    if (pubSuf == domain) {\n        return [domain];\n    }\n    // Nuke trailing dot\n    if (domain.slice(-1) == '.') {\n        domain = domain.slice(0, -1);\n    }\n    const prefix = domain.slice(0, -(pubSuf.length + 1)); // \".example.com\"\n    const parts = prefix.split('.').reverse();\n    let cur = pubSuf;\n    const permutations = [cur];\n    while (parts.length) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const part = parts.shift();\n        cur = `${part}.${cur}`;\n        permutations.push(cur);\n    }\n    return permutations;\n}\n"],"mappings":"AAAA,YAAY;;AAACA,OAAA;AACbC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,aAAa,GAAGA,aAAa;AACrC,MAAMC,iBAAiB,GAAGN,OAAO,CAAC,mBAAmB,CAAC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASK,aAAaA,CAACE,MAAM,EAAEC,qBAAqB,EAAE;EAClD,MAAMC,MAAM,GAAG,CAAC,CAAC,EAAEH,iBAAiB,CAACI,eAAe,EAAEH,MAAM,EAAE;IAC1DC,qBAAqB,EAAEA;EAC3B,CAAC,CAAC;EACF,IAAI,CAACC,MAAM,EAAE;IACT,OAAOE,SAAS;EACpB;EACA,IAAIF,MAAM,IAAIF,MAAM,EAAE;IAClB,OAAO,CAACA,MAAM,CAAC;EACnB;EACA;EACA,IAAIA,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;IACzBL,MAAM,GAAGA,MAAM,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAChC;EACA,MAAMC,MAAM,GAAGN,MAAM,CAACK,KAAK,CAAC,CAAC,EAAE,EAAEH,MAAM,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EACtD,MAAMC,KAAK,GAAGF,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC;EACzC,IAAIC,GAAG,GAAGT,MAAM;EAChB,MAAMU,YAAY,GAAG,CAACD,GAAG,CAAC;EAC1B,OAAOH,KAAK,CAACD,MAAM,EAAE;IACjB;IACA,MAAMM,IAAI,GAAGL,KAAK,CAACM,KAAK,CAAC,CAAC;IAC1BH,GAAG,GAAG,GAAGE,IAAI,IAAIF,GAAG,EAAE;IACtBC,YAAY,CAACG,IAAI,CAACJ,GAAG,CAAC;EAC1B;EACA,OAAOC,YAAY;AACvB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}